import{d as i,A as u,e,j as a,N as s,w as h,m as y,x as v}from"./index-BnvfVVTl.js";/* empty css                      */import{D as N}from"./DeleteAccountModal-DjCEM9Lz.js";function S(){const{user:t,getAuth:p}=i.useContext(u),[n,d]=i.useState(""),[o,c]=i.useState(!1);return i.useEffect(()=>{t!=null&&t.paymentMethod&&d(t.paymentMethod)},[t]),e("div",{className:"payment-methods-page",children:[e("div",{className:"sidebar",children:[e(s,{to:"/account",className:"sidebar-item",children:[a("i",{className:"fas fa-user"})," Personal Info"]}),e(s,{to:"/payment-method",className:"sidebar-item active",children:[a("i",{className:"fas fa-credit-card"})," Payment Methods"]}),e(s,{to:"/MyOrder",className:"sidebar-item",children:[a("i",{className:"fas fa-box"})," My Orders"]}),e(s,{to:"/shipping-info",className:"sidebar-item",children:[a("i",{className:"fas fa-truck"})," Shipping Info"]}),e(s,{to:"/favorites",className:"sidebar-item",children:[a("i",{className:"fas fa-star"})," Favorites"]}),a(N,{})]}),e("div",{className:"content",children:[a("h2",{children:"Payment Methods"}),e("form",{onSubmit:async f=>{var l,m;if(f.preventDefault(),!n){h("Please select a payment method!");return}try{c(!0);const{data:r}=await y.put(`https://ecommerce-final-project-server.onrender.com/users/update-profile/${t._id}`,{paymentMethod:n},{withCredentials:!0});r.success&&(v("âœ… Payment method saved successfully!"),await p())}catch(r){h(((m=(l=r.response)==null?void 0:l.data)==null?void 0:m.message)||"Failed to save payment method.")}finally{c(!1)}},children:[e("div",{className:"payment-options",children:[e("label",{children:[a("input",{type:"radio",name:"paymentMethod",value:"card",checked:n==="card",onChange:()=>d("card")}),"Credit Card"]}),e("label",{children:[a("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:n==="paypal",onChange:()=>d("paypal")}),"PayPal"]})]}),a("button",{type:"submit",className:"save-btn blue",style:{marginTop:"30px"},disabled:o,children:o?"Saving...":"Save Payment Method"})]})]})]})}export{S as default};
