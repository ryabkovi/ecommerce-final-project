import{d as l,A as d,t as m,e as a,v as h,j as e,m as u,x as f,w as v}from"./index-B1tvkX9G.js";function b(){const{setUser:o}=l.useContext(d),r=m(),[i,t]=l.useState(!1);return a(h,{children:[a("button",{className:"sidebar-item delete",onClick:()=>t(!0),children:[e("i",{className:"fas fa-trash-alt"})," Delete Account"]}),i&&e("div",{className:"modal-overlay",children:e("div",{className:"modal-container",children:a("div",{className:"modal-box",children:[e("h3",{children:"מחיקת חשבון"}),e("p",{children:"האם אתה בטוח? פעולה זו אינה הפיכה."}),a("div",{className:"modal-buttons",children:[e("button",{className:"cancel-btn",onClick:()=>t(!1),children:"ביטול"}),e("button",{className:"confirm-btn",onClick:async()=>{var c,n;try{const{data:s}=await u.delete("https://ecommerce-final-project-server.onrender.com/users/delete",{withCredentials:!0});s.success&&(f("החשבון שלך נמחק בהצלחה"),o(null),r("/"))}catch(s){v(((n=(c=s==null?void 0:s.response)==null?void 0:c.data)==null?void 0:n.message)||"❌ לא ניתן היה למחוק את החשבון")}},children:"מחק"})]})]})})})]})}export{b as D};
